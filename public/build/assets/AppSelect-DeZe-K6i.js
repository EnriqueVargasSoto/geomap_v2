import{P as V,bC as ee,bE as we,c as xe,o as te,f as Se,l as Ie,b as f,m as $,bt as Pe,h as Ce,e as Te,z as _e,bF as le,bG as ne,x as Ae,L as oe,M as K,Q as ae,N as se,U as Re,q as F,S as Be,$ as De,w as H,F as W,a1 as Fe,aQ as He,X as O,aO as he,r as q,c1 as Ue,aP as Oe,Y as ce,aX as $e,aZ as fe,bI as Ne,aA as ze,ac as qe,aN as Ke,G as je,Z as J,aH as We,bu as Xe,bM as Ge,c2 as ge,c3 as ye,aw as Ve,c4 as Qe,aU as Ye,t as Ze}from"./app-BiuBj_l6.js";import{a as Ee,e as Je}from"./VInput-D7RgFisC.js";import{a as me,b as et}from"./VTextField-DV_R3zax.js";import{g as tt,f as lt,d as nt}from"./forwardRefs-DxhmvUb-.js";import{e as at,m as ot,V as st,a as be}from"./VList-lNxz4ErM.js";import{m as ut,a as rt}from"./VAvatar-W_TLNtPn.js";import{V as it}from"./VMenu-MQtrCBPI.js";import{V as ke,m as ct}from"./VSelectionControl-C_x_9BxA.js";import{V as dt}from"./VChip-DwWjG-DC.js";const $t=Object.assign({name:"AppTextField",inheritAttrs:!1},{__name:"AppTextField",setup(e){const r=V(()=>{const o=ee().id,d=we();return o?`app-text-field-${o}`:d}),l=V(()=>ee().label);return(s,o)=>(te(),xe("div",{class:Ae(["app-text-field flex-grow-1",s.$attrs.class])},[$(l)?(te(),Se(Ee,{key:0,for:$(r),class:"mb-1 text-body-2 text-wrap",style:{"line-height":"15px"},text:$(l)},null,8,["for","text"])):Ie("",!0),f(me,le(ne({...s.$attrs,class:null,label:void 0,variant:"outlined",id:$(r)})),Pe({_:2},[Ce(s.$slots,(d,m)=>({name:m,fn:Te(u=>[_e(s.$slots,m,le(ne(u||{})))])}))]),1040)],2))}}),ft=K({indeterminate:Boolean,indeterminateIcon:{type:Be,default:"$checkboxIndeterminate"},...ct({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),mt=oe()({name:"VCheckboxBtn",props:ft(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,r){let{slots:l}=r;const s=ae(e,"indeterminate"),o=ae(e,"modelValue");function d(a){s.value&&(s.value=!1)}const m=V(()=>s.value?e.indeterminateIcon:e.falseIcon),u=V(()=>s.value?e.indeterminateIcon:e.trueIcon);return se(()=>{const a=Re(ke.filterProps(e),["modelValue"]);return f(ke,F(a,{modelValue:o.value,"onUpdate:modelValue":[p=>o.value=p,d],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:m.value,trueIcon:u.value,"aria-checked":s.value?"mixed":void 0}),l)}),{}}}),vt=K({renderless:Boolean,...Fe()},"VVirtualScrollItem"),pt=oe()({name:"VVirtualScrollItem",inheritAttrs:!1,props:vt(),emits:{"update:height":e=>!0},setup(e,r){let{attrs:l,emit:s,slots:o}=r;const{resizeRef:d,contentRect:m}=De(void 0,"border");H(()=>{var u;return(u=m.value)==null?void 0:u.height},u=>{u!=null&&s("update:height",u)}),se(()=>{var u,a;return e.renderless?f(W,null,[(u=o.default)==null?void 0:u.call(o,{itemRef:d})]):f("div",F({ref:d,class:["v-virtual-scroll__item",e.class],style:e.style},l),[(a=o.default)==null?void 0:a.call(o)])})}}),ht=-1,gt=1,de=100,yt=K({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function Vt(e,r){const l=He(),s=O(0);he(()=>{s.value=parseFloat(e.itemHeight||0)});const o=O(0),d=O(Math.ceil((parseInt(e.height)||l.height.value)/(s.value||16))||1),m=O(0),u=O(0),a=q(),p=q();let A=0;const{resizeRef:B,contentRect:c}=De();he(()=>{B.value=a.value});const b=V(()=>{var t;return a.value===document.documentElement?l.height.value:((t=c.value)==null?void 0:t.height)||parseInt(e.height)||0}),E=V(()=>!!(a.value&&p.value&&b.value&&s.value));let P=Array.from({length:r.value.length}),h=Array.from({length:r.value.length});const k=O(0);let x=-1;function L(t){return P[t]||s.value}const C=Ue(()=>{const t=performance.now();h[0]=0;const n=r.value.length;for(let v=1;v<=n-1;v++)h[v]=(h[v-1]||0)+L(v-1);k.value=Math.max(k.value,performance.now()-t)},k),X=H(E,t=>{t&&(X(),A=p.value.offsetTop,C.immediate(),R(),~x&&$e(()=>{fe&&window.requestAnimationFrame(()=>{Z(x),x=-1})}))});Oe(()=>{C.clear()});function ue(t,n){const v=P[t],g=s.value;s.value=g?Math.min(s.value,n):n,(v!==n||g!==s.value)&&(P[t]=n,C())}function S(t){return t=ce(t,0,r.value.length-1),h[t]||0}function G(t){return bt(h,t)}let U=0,M=0,j=0;H(b,(t,n)=>{n&&(R(),t<n&&requestAnimationFrame(()=>{M=0,R()}))});function Q(){if(!a.value||!p.value)return;const t=a.value.scrollTop,n=performance.now();n-j>500?(M=Math.sign(t-U),A=p.value.offsetTop):M=t-U,U=t,j=n,R()}function N(){!a.value||!p.value||(M=0,j=0,R())}let Y=-1;function R(){cancelAnimationFrame(Y),Y=requestAnimationFrame(re)}function re(){if(!a.value||!b.value)return;const t=U-A,n=Math.sign(M),v=Math.max(0,t-de),g=ce(G(v),0,r.value.length),T=t+b.value+de,i=ce(G(T)+1,g+1,r.value.length);if((n!==ht||g<o.value)&&(n!==gt||i>d.value)){const y=S(o.value)-S(g),w=S(i)-S(d.value);Math.max(y,w)>de?(o.value=g,d.value=i):(g<=0&&(o.value=g),i>=r.value.length&&(d.value=i))}m.value=S(o.value),u.value=S(r.value.length)-S(d.value)}function Z(t){const n=S(t);!a.value||t&&!n?x=t:a.value.scrollTop=n}const ie=V(()=>r.value.slice(o.value,d.value).map((t,n)=>({raw:t,index:n+o.value})));return H(r,()=>{P=Array.from({length:r.value.length}),h=Array.from({length:r.value.length}),C.immediate(),R()},{deep:!0}),{calculateVisibleItems:R,containerRef:a,markerRef:p,computedItems:ie,paddingTop:m,paddingBottom:u,scrollToIndex:Z,handleScroll:Q,handleScrollend:N,handleItemResize:ue}}function bt(e,r){let l=e.length-1,s=0,o=0,d=null,m=-1;if(e[l]<r)return l;for(;s<=l;)if(o=s+l>>1,d=e[o],d>r)l=o-1;else if(d<r)m=o,s=o+1;else return d===r?o:s;return m}const kt=K({items:{type:Array,default:()=>[]},renderless:Boolean,...yt(),...Fe(),...We()},"VVirtualScroll"),wt=oe()({name:"VVirtualScroll",props:kt(),setup(e,r){let{slots:l}=r;const s=Ne("VVirtualScroll"),{dimensionStyles:o}=ze(e),{calculateVisibleItems:d,containerRef:m,markerRef:u,handleScroll:a,handleScrollend:p,handleItemResize:A,scrollToIndex:B,paddingTop:c,paddingBottom:b,computedItems:E}=Vt(e,qe(e,"items"));return Ke(()=>e.renderless,()=>{function P(){var x,L;const k=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";m.value===document.documentElement?(document[k]("scroll",a,{passive:!0}),document[k]("scrollend",p)):((x=m.value)==null||x[k]("scroll",a,{passive:!0}),(L=m.value)==null||L[k]("scrollend",p))}je(()=>{m.value=tt(s.vnode.el,!0),P(!0)}),Oe(P)}),se(()=>{const P=E.value.map(h=>f(pt,{key:h.index,renderless:e.renderless,"onUpdate:height":k=>A(h.index,k)},{default:k=>{var x;return(x=l.default)==null?void 0:x.call(l,{item:h.raw,index:h.index,...k})}}));return e.renderless?f(W,null,[f("div",{ref:u,class:"v-virtual-scroll__spacer",style:{paddingTop:J(c.value)}},null),P,f("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:J(b.value)}},null)]):f("div",{ref:m,class:["v-virtual-scroll",e.class],onScrollPassive:a,onScrollend:p,style:[o.value,e.style]},[f("div",{ref:u,class:"v-virtual-scroll__container",style:{paddingTop:J(c.value),paddingBottom:J(b.value)}},[P])])}),{calculateVisibleItems:d,scrollToIndex:B}}});function xt(e,r){const l=O(!1);let s;function o(u){cancelAnimationFrame(s),l.value=!0,s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{l.value=!1})})}async function d(){await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>{if(l.value){const a=H(l,()=>{a(),u()})}else u()})}async function m(u){var A,B;if(u.key==="Tab"&&((A=r.value)==null||A.focus()),!["PageDown","PageUp","Home","End"].includes(u.key))return;const a=(B=e.value)==null?void 0:B.$el;if(!a)return;(u.key==="Home"||u.key==="End")&&a.scrollTo({top:u.key==="Home"?0:a.scrollHeight,behavior:"smooth"}),await d();const p=a.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(u.key==="PageDown"||u.key==="Home"){const c=a.getBoundingClientRect().top;for(const b of p)if(b.getBoundingClientRect().top>=c){b.focus();break}}else{const c=a.getBoundingClientRect().bottom;for(const b of[...p].reverse())if(b.getBoundingClientRect().bottom<=c){b.focus();break}}}return{onScrollPassive:o,onKeydown:m}}const St=K({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Be,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...ot({itemChildren:!1})},"Select"),It=K({...St(),...Re(et({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ut({transition:{component:nt}})},"VSelect"),Pt=oe()({name:"VSelect",props:It(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,r){let{slots:l}=r;const{t:s}=Xe(),o=q(),d=q(),m=q(),u=ae(e,"menu"),a=V({get:()=>u.value,set:t=>{var n;u.value&&!t&&((n=d.value)!=null&&n.Î¨openChildren.size)||(u.value=t)}}),{items:p,transformIn:A,transformOut:B}=at(e),c=ae(e,"modelValue",[],t=>A(t===null?[null]:Ge(t)),t=>{const n=B(t);return e.multiple?n:n[0]??null}),b=V(()=>typeof e.counterValue=="function"?e.counterValue(c.value):typeof e.counterValue=="number"?e.counterValue:c.value.length),E=Je(e),P=V(()=>c.value.map(t=>t.value)),h=O(!1),k=V(()=>a.value?e.closeText:e.openText);let x="",L;const C=V(()=>e.hideSelected?p.value.filter(t=>!c.value.some(n=>e.valueComparator(n,t))):p.value),X=V(()=>e.hideNoData&&!C.value.length||E.isReadonly.value||E.isDisabled.value),ue=V(()=>{var t;return{...e.menuProps,activatorProps:{...((t=e.menuProps)==null?void 0:t.activatorProps)||{},"aria-haspopup":"listbox"}}}),S=q(),G=xt(S,o);function U(t){e.openOnClear&&(a.value=!0)}function M(){X.value||(a.value=!a.value)}function j(t){ge(t)&&Q(t)}function Q(t){var T,i;if(!t.key||E.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(a.value=!0),["Escape","Tab"].includes(t.key)&&(a.value=!1),t.key==="Home"?(T=S.value)==null||T.focus("first"):t.key==="End"&&((i=S.value)==null||i.focus("last"));const n=1e3;if(e.multiple||!ge(t))return;const v=performance.now();v-L>n&&(x=""),x+=t.key.toLowerCase(),L=v;const g=p.value.find(y=>y.title.toLowerCase().startsWith(x));if(g!==void 0){c.value=[g];const y=C.value.indexOf(g);fe&&window.requestAnimationFrame(()=>{var w;y>=0&&((w=m.value)==null||w.scrollToIndex(y))})}}function N(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const v=c.value.findIndex(T=>e.valueComparator(T.value,t.value)),g=n??!~v;if(~v){const T=g?[...c.value,t]:[...c.value];T.splice(v,1),c.value=T}else g&&(c.value=[...c.value,t])}else{const v=n!==!1;c.value=v?[t]:[],$e(()=>{a.value=!1})}}function Y(t){var n;(n=S.value)!=null&&n.$el.contains(t.relatedTarget)||(a.value=!1)}function R(){var t;e.eager&&((t=m.value)==null||t.calculateVisibleItems())}function re(){var t;h.value&&((t=o.value)==null||t.focus())}function Z(t){h.value=!0}function ie(t){if(t==null)c.value=[];else if(ye(o.value,":autofill")||ye(o.value,":-webkit-autofill")){const n=p.value.find(v=>v.title===t);n&&N(n)}else o.value&&(o.value.value="")}return H(a,()=>{if(!e.hideSelected&&a.value&&c.value.length){const t=C.value.findIndex(n=>c.value.some(v=>e.valueComparator(v.value,n.value)));fe&&window.requestAnimationFrame(()=>{var n;t>=0&&((n=m.value)==null||n.scrollToIndex(t))})}}),H(()=>e.items,(t,n)=>{a.value||h.value&&!n.length&&t.length&&(a.value=!0)}),se(()=>{const t=!!(e.chips||l.chip),n=!!(!e.hideNoData||C.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),v=c.value.length>0,g=me.filterProps(e),T=v||!h.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return f(me,F({ref:o},g,{modelValue:c.value.map(i=>i.props.value).join(", "),"onUpdate:modelValue":ie,focused:h.value,"onUpdate:focused":i=>h.value=i,validationValue:c.externalValue,counterValue:b.value,dirty:v,class:["v-select",{"v-select--active-menu":a.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":c.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:T,"onClick:clear":U,"onMousedown:control":M,onBlur:Y,onKeydown:Q,"aria-label":s(k.value),title:s(k.value)}),{...l,default:()=>f(W,null,[f(it,F({ref:d,modelValue:a.value,"onUpdate:modelValue":i=>a.value=i,activator:"parent",contentClass:"v-select__content",disabled:X.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:R,onAfterLeave:re},ue.value),{default:()=>[n&&f(st,F({ref:S,selected:P.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:i=>i.preventDefault(),onKeydown:j,onFocusin:Z,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},G,e.listProps),{default:()=>{var i,y,w;return[(i=l["prepend-item"])==null?void 0:i.call(l),!C.value.length&&!e.hideNoData&&(((y=l["no-data"])==null?void 0:y.call(l))??f(be,{title:s(e.noDataText)},null)),f(wt,{ref:m,renderless:!0,items:C.value},{default:D=>{var pe;let{item:_,index:z,itemRef:I}=D;const ve=F(_.props,{ref:I,key:z,onClick:()=>N(_,null)});return((pe=l.item)==null?void 0:pe.call(l,{item:_,index:z,props:ve}))??f(be,F(ve,{role:"option"}),{prepend:Le=>{let{isSelected:Me}=Le;return f(W,null,[e.multiple&&!e.hideSelected?f(mt,{key:_.value,modelValue:Me,ripple:!1,tabindex:"-1"},null):void 0,_.props.prependAvatar&&f(rt,{image:_.props.prependAvatar},null),_.props.prependIcon&&f(Ve,{icon:_.props.prependIcon},null)])}})}}),(w=l["append-item"])==null?void 0:w.call(l)]}})]}),c.value.map((i,y)=>{function w(I){I.stopPropagation(),I.preventDefault(),N(i,!1)}const D={"onClick:close":w,onKeydown(I){I.key!=="Enter"&&I.key!==" "||(I.preventDefault(),I.stopPropagation(),w(I))},onMousedown(I){I.preventDefault(),I.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},_=t?!!l.chip:!!l.selection,z=_?Qe(t?l.chip({item:i,index:y,props:D}):l.selection({item:i,index:y})):void 0;if(!(_&&!z))return f("div",{key:i.value,class:"v-select__selection"},[t?l.chip?f(Ye,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:i.title}}},{default:()=>[z]}):f(dt,F({key:"chip",closable:e.closableChips,size:"small",text:i.title,disabled:i.props.disabled},D),null):z??f("span",{class:"v-select__selection-text"},[i.title,e.multiple&&y<c.value.length-1&&f("span",{class:"v-select__selection-comma"},[Ze(",")])])])})]),"append-inner":function(){var D;for(var i=arguments.length,y=new Array(i),w=0;w<i;w++)y[w]=arguments[w];return f(W,null,[(D=l["append-inner"])==null?void 0:D.call(l,...y),e.menuIcon?f(Ve,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),lt({isFocused:h,menu:a,select:N},o)}}),Et=Object.assign({name:"AppSelect",inheritAttrs:!1},{__name:"AppSelect",setup(e){const r=V(()=>{const o=ee().id,d=we();return o?`app-select-${o}`:d}),l=V(()=>ee().label);return(s,o)=>(te(),xe("div",{class:Ae(["app-select flex-grow-1",s.$attrs.class])},[$(l)?(te(),Se(Ee,{key:0,for:$(r),class:"mb-1 text-body-2",style:{"line-height":"15px"},text:$(l)},null,8,["for","text"])):Ie("",!0),f(Pt,le(ne({...s.$attrs,class:null,label:void 0,variant:"outlined",id:$(r),menuProps:{contentClass:["app-inner-list","app-select__content","v-select__content",s.$attrs.multiple!==void 0?"v-list-select-multiple":""]}})),Pe({_:2},[Ce(s.$slots,(d,m)=>({name:m,fn:Te(u=>[_e(s.$slots,m,le(ne(u||{})))])}))]),1040)],2))}});export{Pt as V,Et as _,$t as a,mt as b};
