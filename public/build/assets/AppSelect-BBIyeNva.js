import{P as x,bB as ee,bD as we,c as Se,o as te,f as ke,l as xe,b as d,m as O,b$ as Pe,h as Te,e as Ie,z as Ce,bE as le,bF as ne,x as _e,L as de,M as W,$ as Ae,w as H,N as fe,F as j,q as M,a1 as Re,aQ as Le,X as B,aO as pe,r as q,c0 as $e,aP as De,Y as ue,aX as Fe,aZ as ie,bG as Me,aA as He,ac as Ne,aN as Ue,G as ze,Z as J,aH as qe,bt as Ke,Q as he,bK as je,U as We,c1 as ge,c2 as ye,S as Xe,aw as Ve,c3 as Ge,aU as Qe,t as Ye}from"./app-Cmn_N9n1.js";import{a as Be,e as Ze}from"./VInput-BbvKCV-Z.js";import{a as ce,b as Je}from"./VTextField-B1t8Y1qw.js";import{g as et,f as tt,d as lt}from"./forwardRefs-kXjusgSh.js";import{e as nt,m as at,V as ot,a as be}from"./VList-C163Uj0B.js";import{m as st,a as ut}from"./VAvatar-BF_vJa7z.js";import{V as rt}from"./VMenu-DYoRoIb7.js";import{V as it}from"./VCheckboxBtn-qoMKorfF.js";import{V as ct}from"./VChip-fgQ6fO8I.js";const Ft=Object.assign({name:"AppTextField",inheritAttrs:!1},{__name:"AppTextField",setup(t){const r=x(()=>{const o=ee().id,f=we();return o?`app-text-field-${o}`:f}),l=x(()=>ee().label);return(u,o)=>(te(),Se("div",{class:_e(["app-text-field flex-grow-1",u.$attrs.class])},[O(l)?(te(),ke(Be,{key:0,for:O(r),class:"mb-1 text-body-2 text-wrap",style:{"line-height":"15px"},text:O(l)},null,8,["for","text"])):xe("",!0),d(ce,le(ne({...u.$attrs,class:null,label:void 0,variant:"outlined",id:O(r)})),Pe({_:2},[Te(u.$slots,(f,v)=>({name:v,fn:Ie(s=>[Ce(u.$slots,v,le(ne(s||{})))])}))]),1040)],2))}}),dt=W({renderless:Boolean,...Re()},"VVirtualScrollItem"),ft=de()({name:"VVirtualScrollItem",inheritAttrs:!1,props:dt(),emits:{"update:height":t=>!0},setup(t,r){let{attrs:l,emit:u,slots:o}=r;const{resizeRef:f,contentRect:v}=Ae(void 0,"border");H(()=>{var s;return(s=v.value)==null?void 0:s.height},s=>{s!=null&&u("update:height",s)}),fe(()=>{var s,a;return t.renderless?d(j,null,[(s=o.default)==null?void 0:s.call(o,{itemRef:f})]):d("div",M({ref:f,class:["v-virtual-scroll__item",t.class],style:t.style},l),[(a=o.default)==null?void 0:a.call(o)])})}}),vt=-1,mt=1,re=100,pt=W({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function ht(t,r){const l=Le(),u=B(0);pe(()=>{u.value=parseFloat(t.itemHeight||0)});const o=B(0),f=B(Math.ceil((parseInt(t.height)||l.height.value)/(u.value||16))||1),v=B(0),s=B(0),a=q(),h=q();let A=0;const{resizeRef:D,contentRect:c}=Ae();pe(()=>{D.value=a.value});const V=x(()=>{var e;return a.value===document.documentElement?l.height.value:((e=c.value)==null?void 0:e.height)||parseInt(t.height)||0}),E=x(()=>!!(a.value&&h.value&&V.value&&u.value));let T=Array.from({length:r.value.length}),p=Array.from({length:r.value.length});const b=B(0);let S=-1;function L(e){return T[e]||u.value}const I=$e(()=>{const e=performance.now();p[0]=0;const n=r.value.length;for(let m=1;m<=n-1;m++)p[m]=(p[m-1]||0)+L(m-1);b.value=Math.max(b.value,performance.now()-e)},b),X=H(E,e=>{e&&(X(),A=h.value.offsetTop,I.immediate(),R(),~S&&Fe(()=>{ie&&window.requestAnimationFrame(()=>{Z(S),S=-1})}))});De(()=>{I.clear()});function ae(e,n){const m=T[e],g=u.value;u.value=g?Math.min(u.value,n):n,(m!==n||g!==u.value)&&(T[e]=n,I())}function k(e){return e=ue(e,0,r.value.length-1),p[e]||0}function G(e){return gt(p,e)}let N=0,$=0,K=0;H(V,(e,n)=>{n&&(R(),e<n&&requestAnimationFrame(()=>{$=0,R()}))});function Q(){if(!a.value||!h.value)return;const e=a.value.scrollTop,n=performance.now();n-K>500?($=Math.sign(e-N),A=h.value.offsetTop):$=e-N,N=e,K=n,R()}function U(){!a.value||!h.value||($=0,K=0,R())}let Y=-1;function R(){cancelAnimationFrame(Y),Y=requestAnimationFrame(oe)}function oe(){if(!a.value||!V.value)return;const e=N-A,n=Math.sign($),m=Math.max(0,e-re),g=ue(G(m),0,r.value.length),C=e+V.value+re,i=ue(G(C)+1,g+1,r.value.length);if((n!==vt||g<o.value)&&(n!==mt||i>f.value)){const y=k(o.value)-k(g),w=k(i)-k(f.value);Math.max(y,w)>re?(o.value=g,f.value=i):(g<=0&&(o.value=g),i>=r.value.length&&(f.value=i))}v.value=k(o.value),s.value=k(r.value.length)-k(f.value)}function Z(e){const n=k(e);!a.value||e&&!n?S=e:a.value.scrollTop=n}const se=x(()=>r.value.slice(o.value,f.value).map((e,n)=>({raw:e,index:n+o.value})));return H(r,()=>{T=Array.from({length:r.value.length}),p=Array.from({length:r.value.length}),I.immediate(),R()},{deep:!0}),{calculateVisibleItems:R,containerRef:a,markerRef:h,computedItems:se,paddingTop:v,paddingBottom:s,scrollToIndex:Z,handleScroll:Q,handleScrollend:U,handleItemResize:ae}}function gt(t,r){let l=t.length-1,u=0,o=0,f=null,v=-1;if(t[l]<r)return l;for(;u<=l;)if(o=u+l>>1,f=t[o],f>r)l=o-1;else if(f<r)v=o,u=o+1;else return f===r?o:u;return v}const yt=W({items:{type:Array,default:()=>[]},renderless:Boolean,...pt(),...Re(),...qe()},"VVirtualScroll"),Vt=de()({name:"VVirtualScroll",props:yt(),setup(t,r){let{slots:l}=r;const u=Me("VVirtualScroll"),{dimensionStyles:o}=He(t),{calculateVisibleItems:f,containerRef:v,markerRef:s,handleScroll:a,handleScrollend:h,handleItemResize:A,scrollToIndex:D,paddingTop:c,paddingBottom:V,computedItems:E}=ht(t,Ne(t,"items"));return Ue(()=>t.renderless,()=>{function T(){var S,L;const b=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";v.value===document.documentElement?(document[b]("scroll",a,{passive:!0}),document[b]("scrollend",h)):((S=v.value)==null||S[b]("scroll",a,{passive:!0}),(L=v.value)==null||L[b]("scrollend",h))}ze(()=>{v.value=et(u.vnode.el,!0),T(!0)}),De(T)}),fe(()=>{const T=E.value.map(p=>d(ft,{key:p.index,renderless:t.renderless,"onUpdate:height":b=>A(p.index,b)},{default:b=>{var S;return(S=l.default)==null?void 0:S.call(l,{item:p.raw,index:p.index,...b})}}));return t.renderless?d(j,null,[d("div",{ref:s,class:"v-virtual-scroll__spacer",style:{paddingTop:J(c.value)}},null),T,d("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:J(V.value)}},null)]):d("div",{ref:v,class:["v-virtual-scroll",t.class],onScrollPassive:a,onScrollend:h,style:[o.value,t.style]},[d("div",{ref:s,class:"v-virtual-scroll__container",style:{paddingTop:J(c.value),paddingBottom:J(V.value)}},[T])])}),{calculateVisibleItems:f,scrollToIndex:D}}});function bt(t,r){const l=B(!1);let u;function o(s){cancelAnimationFrame(u),l.value=!0,u=requestAnimationFrame(()=>{u=requestAnimationFrame(()=>{l.value=!1})})}async function f(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(l.value){const a=H(l,()=>{a(),s()})}else s()})}async function v(s){var A,D;if(s.key==="Tab"&&((A=r.value)==null||A.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const a=(D=t.value)==null?void 0:D.$el;if(!a)return;(s.key==="Home"||s.key==="End")&&a.scrollTo({top:s.key==="Home"?0:a.scrollHeight,behavior:"smooth"}),await f();const h=a.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const c=a.getBoundingClientRect().top;for(const V of h)if(V.getBoundingClientRect().top>=c){V.focus();break}}else{const c=a.getBoundingClientRect().bottom;for(const V of[...h].reverse())if(V.getBoundingClientRect().bottom<=c){V.focus();break}}}return{onScrollPassive:o,onKeydown:v}}const wt=W({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Xe,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...at({itemChildren:!1})},"Select"),St=W({...wt(),...We(Je({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...st({transition:{component:lt}})},"VSelect"),kt=de()({name:"VSelect",props:St(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,r){let{slots:l}=r;const{t:u}=Ke(),o=q(),f=q(),v=q(),s=he(t,"menu"),a=x({get:()=>s.value,set:e=>{var n;s.value&&!e&&((n=f.value)!=null&&n.Î¨openChildren.size)||(s.value=e)}}),{items:h,transformIn:A,transformOut:D}=nt(t),c=he(t,"modelValue",[],e=>A(e===null?[null]:je(e)),e=>{const n=D(e);return t.multiple?n:n[0]??null}),V=x(()=>typeof t.counterValue=="function"?t.counterValue(c.value):typeof t.counterValue=="number"?t.counterValue:c.value.length),E=Ze(t),T=x(()=>c.value.map(e=>e.value)),p=B(!1),b=x(()=>a.value?t.closeText:t.openText);let S="",L;const I=x(()=>t.hideSelected?h.value.filter(e=>!c.value.some(n=>t.valueComparator(n,e))):h.value),X=x(()=>t.hideNoData&&!I.value.length||E.isReadonly.value||E.isDisabled.value),ae=x(()=>{var e;return{...t.menuProps,activatorProps:{...((e=t.menuProps)==null?void 0:e.activatorProps)||{},"aria-haspopup":"listbox"}}}),k=q(),G=bt(k,o);function N(e){t.openOnClear&&(a.value=!0)}function $(){X.value||(a.value=!a.value)}function K(e){ge(e)&&Q(e)}function Q(e){var C,i;if(!e.key||E.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(e.key)&&e.preventDefault(),["Enter","ArrowDown"," "].includes(e.key)&&(a.value=!0),["Escape","Tab"].includes(e.key)&&(a.value=!1),e.key==="Home"?(C=k.value)==null||C.focus("first"):e.key==="End"&&((i=k.value)==null||i.focus("last"));const n=1e3;if(t.multiple||!ge(e))return;const m=performance.now();m-L>n&&(S=""),S+=e.key.toLowerCase(),L=m;const g=h.value.find(y=>y.title.toLowerCase().startsWith(S));if(g!==void 0){c.value=[g];const y=I.value.indexOf(g);ie&&window.requestAnimationFrame(()=>{var w;y>=0&&((w=v.value)==null||w.scrollToIndex(y))})}}function U(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e.props.disabled)if(t.multiple){const m=c.value.findIndex(C=>t.valueComparator(C.value,e.value)),g=n??!~m;if(~m){const C=g?[...c.value,e]:[...c.value];C.splice(m,1),c.value=C}else g&&(c.value=[...c.value,e])}else{const m=n!==!1;c.value=m?[e]:[],Fe(()=>{a.value=!1})}}function Y(e){var n;(n=k.value)!=null&&n.$el.contains(e.relatedTarget)||(a.value=!1)}function R(){var e;t.eager&&((e=v.value)==null||e.calculateVisibleItems())}function oe(){var e;p.value&&((e=o.value)==null||e.focus())}function Z(e){p.value=!0}function se(e){if(e==null)c.value=[];else if(ye(o.value,":autofill")||ye(o.value,":-webkit-autofill")){const n=h.value.find(m=>m.title===e);n&&U(n)}else o.value&&(o.value.value="")}return H(a,()=>{if(!t.hideSelected&&a.value&&c.value.length){const e=I.value.findIndex(n=>c.value.some(m=>t.valueComparator(m.value,n.value)));ie&&window.requestAnimationFrame(()=>{var n;e>=0&&((n=v.value)==null||n.scrollToIndex(e))})}}),H(()=>t.items,(e,n)=>{a.value||p.value&&!n.length&&e.length&&(a.value=!0)}),fe(()=>{const e=!!(t.chips||l.chip),n=!!(!t.hideNoData||I.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),m=c.value.length>0,g=ce.filterProps(t),C=m||!p.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return d(ce,M({ref:o},g,{modelValue:c.value.map(i=>i.props.value).join(", "),"onUpdate:modelValue":se,focused:p.value,"onUpdate:focused":i=>p.value=i,validationValue:c.externalValue,counterValue:V.value,dirty:m,class:["v-select",{"v-select--active-menu":a.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":c.value.length,"v-select--selection-slot":!!l.selection},t.class],style:t.style,inputmode:"none",placeholder:C,"onClick:clear":N,"onMousedown:control":$,onBlur:Y,onKeydown:Q,"aria-label":u(b.value),title:u(b.value)}),{...l,default:()=>d(j,null,[d(rt,M({ref:f,modelValue:a.value,"onUpdate:modelValue":i=>a.value=i,activator:"parent",contentClass:"v-select__content",disabled:X.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:R,onAfterLeave:oe},ae.value),{default:()=>[n&&d(ot,M({ref:k,selected:T.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:i=>i.preventDefault(),onKeydown:K,onFocusin:Z,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},G,t.listProps),{default:()=>{var i,y,w;return[(i=l["prepend-item"])==null?void 0:i.call(l),!I.value.length&&!t.hideNoData&&(((y=l["no-data"])==null?void 0:y.call(l))??d(be,{title:u(t.noDataText)},null)),d(Vt,{ref:v,renderless:!0,items:I.value},{default:F=>{var me;let{item:_,index:z,itemRef:P}=F;const ve=M(_.props,{ref:P,key:z,onClick:()=>U(_,null)});return((me=l.item)==null?void 0:me.call(l,{item:_,index:z,props:ve}))??d(be,M(ve,{role:"option"}),{prepend:Oe=>{let{isSelected:Ee}=Oe;return d(j,null,[t.multiple&&!t.hideSelected?d(it,{key:_.value,modelValue:Ee,ripple:!1,tabindex:"-1"},null):void 0,_.props.prependAvatar&&d(ut,{image:_.props.prependAvatar},null),_.props.prependIcon&&d(Ve,{icon:_.props.prependIcon},null)])}})}}),(w=l["append-item"])==null?void 0:w.call(l)]}})]}),c.value.map((i,y)=>{function w(P){P.stopPropagation(),P.preventDefault(),U(i,!1)}const F={"onClick:close":w,onKeydown(P){P.key!=="Enter"&&P.key!==" "||(P.preventDefault(),P.stopPropagation(),w(P))},onMousedown(P){P.preventDefault(),P.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},_=e?!!l.chip:!!l.selection,z=_?Ge(e?l.chip({item:i,index:y,props:F}):l.selection({item:i,index:y})):void 0;if(!(_&&!z))return d("div",{key:i.value,class:"v-select__selection"},[e?l.chip?d(Qe,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:i.title}}},{default:()=>[z]}):d(ct,M({key:"chip",closable:t.closableChips,size:"small",text:i.title,disabled:i.props.disabled},F),null):z??d("span",{class:"v-select__selection-text"},[i.title,t.multiple&&y<c.value.length-1&&d("span",{class:"v-select__selection-comma"},[Ye(",")])])])})]),"append-inner":function(){var F;for(var i=arguments.length,y=new Array(i),w=0;w<i;w++)y[w]=arguments[w];return d(j,null,[(F=l["append-inner"])==null?void 0:F.call(l,...y),t.menuIcon?d(Ve,{class:"v-select__menu-icon",icon:t.menuIcon},null):void 0])}})}),tt({isFocused:p,menu:a,select:U},o)}}),Bt=Object.assign({name:"AppSelect",inheritAttrs:!1},{__name:"AppSelect",setup(t){const r=x(()=>{const o=ee().id,f=we();return o?`app-select-${o}`:f}),l=x(()=>ee().label);return(u,o)=>(te(),Se("div",{class:_e(["app-select flex-grow-1",u.$attrs.class])},[O(l)?(te(),ke(Be,{key:0,for:O(r),class:"mb-1 text-body-2",style:{"line-height":"15px"},text:O(l)},null,8,["for","text"])):xe("",!0),d(kt,le(ne({...u.$attrs,class:null,label:void 0,variant:"outlined",id:O(r),menuProps:{contentClass:["app-inner-list","app-select__content","v-select__content",u.$attrs.multiple!==void 0?"v-list-select-multiple":""]}})),Pe({_:2},[Te(u.$slots,(f,v)=>({name:v,fn:Ie(s=>[Ce(u.$slots,v,le(ne(s||{})))])}))]),1040)],2))}});export{kt as V,Bt as _,Ft as a};
